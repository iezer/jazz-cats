"use strict";define("cats-client/app",["exports","ember","ember-application","cats-client/resolver","ember-load-initializers","cats-client/config/environment"],function(e,t,n,a,r,i){var l=void 0;t.default.MODEL_FACTORY_INJECTIONS=!0,l=n.default.extend({modulePrefix:i.default.modulePrefix,podModulePrefix:i.default.podModulePrefix,Resolver:a.default}),(0,r.default)(l,i.default.modulePrefix),e.default=l}),define("cats-client/components/app-version",["exports","ember-cli-app-version/components/app-version","cats-client/config/environment"],function(e,t,n){var a=n.default.APP.name,r=n.default.APP.version;e.default=t.default.extend({version:r,name:a})}),define("cats-client/components/event-info",["exports","ember-component"],function(e,t){e.default=t.default.extend({classNames:["event-info"]})}),define("cats-client/components/force-graph",["exports","ember-component","d3","ember-computed"],function(e,t,n,a){e.default=t.default.extend({classNames:["force-graph"],graph:null,_updateCircle:function(e,t){var n=e.get("id"),a=this.$("circle[dd-artist="+n+"]");a&&a.attr("r",t)},selectedArtist:(0,a.default)({get:function(){return null},set:function(e,t){var n=this.get("selectedArtist");return n&&this._updateCircle(n,5),t&&this._updateCircle(t,10),t}}),didInsertElement:function(){function e(){u.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),f.attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y})}function t(e){n.default.event.active||d.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y}function a(e){e.fx=n.default.event.x,e.fy=n.default.event.y}function r(e){n.default.event.active||d.alphaTarget(0),e.fx=null,e.fy=null}var i=n.default.select("svg"),l=+i.attr("width"),o=+i.attr("height"),c=n.default.scaleOrdinal(n.default.schemeCategory20),d=n.default.forceSimulation().force("link",n.default.forceLink().id(function(e){return e.id})).force("charge",n.default.forceManyBody()).force("center",n.default.forceCenter(l/2,o/2)),s=this.get("graph"),u=i.append("g").attr("class","force-graph__links").selectAll("line").data(s.links).enter().append("line").attr("stroke-width",function(e){return Math.sqrt(e.value)}),f=i.append("g").attr("class","force-graph__nodes").selectAll("circle").data(s.nodes).enter().append("circle").attr("r",5).attr("fill",function(e){return c(e.group)}).attr("dd-artist",function(e){return e.id}).call(n.default.drag().on("start",t).on("drag",a).on("end",r));f.append("title").text(function(e){return e.text}),d.nodes(s.nodes).on("tick",e),d.force("link").links(s.links)}})}),define("cats-client/controllers/index",["exports","ember-controller","ember-computed"],function(e,t,n){e.default=t.default.extend({selectedArtist:null,sortDef:["startTime:desc"],sortedEvents:n.default.sort("model","sortDef")})}),define("cats-client/helpers/format-date",["exports","ember-helper"],function(e,t){function n(e){return e[0].toDateString()}e.formatDate=n,e.default=t.default.helper(n)}),define("cats-client/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){e.default=t.default}),define("cats-client/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){e.default=t.default}),define("cats-client/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","cats-client/config/environment"],function(e,t,n){e.default={name:"App Version",initialize:(0,t.default)(n.default.APP.name,n.default.APP.version)}}),define("cats-client/initializers/container-debug-adapter",["exports","ember-resolver/container-debug-adapter"],function(e,t){e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0];e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("cats-client/initializers/data-adapter",["exports","ember"],function(e,t){e.default={name:"data-adapter",before:"store",initialize:t.default.K}}),define("cats-client/initializers/ember-cli-mirage",["exports","ember-cli-mirage/utils/read-modules","cats-client/config/environment","cats-client/mirage/config","ember-cli-mirage/server","lodash/object/assign"],function(e,t,n,a,r,i){function l(){var e=arguments.length<=0||void 0===arguments[0]?n.default:arguments[0],l=e.environment,o=(0,t.default)(e.modulePrefix),c=(0,i.default)(o,{environment:l,baseConfig:a.default,testConfig:a.testConfig});return new r.default(c)}function o(e,t){var n="undefined"!=typeof t.enabled,a=c(e,t);return n?t.enabled:a}function c(e,t){var n="development"===e&&!t.usingProxy,a="test"===e;return n||a}e.startMirage=l,e.default={name:"ember-cli-mirage",initialize:function(e){if(arguments.length>1){arguments[0],arguments[1]}o(n.default.environment,n.default["ember-cli-mirage"])&&l(n.default)}}}),define("cats-client/initializers/ember-data",["exports","ember-data/setup-container","ember-data/-private/core"],function(e,t,n){e.default={name:"ember-data",initialize:t.default}}),define("cats-client/initializers/export-application-global",["exports","ember","cats-client/config/environment"],function(e,t,n){function a(){var e=arguments[1]||arguments[0];if(n.default.exportApplicationGlobal!==!1){var a,r=n.default.exportApplicationGlobal;a="string"==typeof r?r:t.default.String.classify(n.default.modulePrefix),window[a]||(window[a]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete window[a]}}))}}e.initialize=a,e.default={name:"export-application-global",initialize:a}}),define("cats-client/initializers/injectStore",["exports","ember"],function(e,t){e.default={name:"injectStore",before:"store",initialize:t.default.K}}),define("cats-client/initializers/store",["exports","ember"],function(e,t){e.default={name:"store",after:"ember-data",initialize:t.default.K}}),define("cats-client/initializers/transforms",["exports","ember"],function(e,t){e.default={name:"transforms",before:"store",initialize:t.default.K}}),define("cats-client/instance-initializers/ember-data",["exports","ember-data/-private/instance-initializers/initialize-store-service"],function(e,t){e.default={name:"ember-data",initialize:t.default}}),define("cats-client/mirage/config",["exports"],function(e){e.default=function(){this.get("/artists"),this.get("/artists/:id"),this.get("/events"),this.get("/events/:id")}}),define("cats-client/mirage/factories/artist",["exports","ember-cli-mirage","cats-client/models/artist"],function(e,t,n){var a=function(){var e=Math.floor(Math.random()*n.INSTRUMENTS.length);return n.INSTRUMENTS[e]};e.default=t.Factory.extend({name:function(){return t.faker.name.findName()},instrument:function(){return a()}})}),define("cats-client/mirage/factories/event",["exports","ember-cli-mirage"],function(e,t){e.default=t.Factory.extend({name:function(){return t.faker.name.findName()},start_time:function(){return t.faker.date.recent(30)},artist_ids:function(){return[]}})}),define("cats-client/mirage/get-server",["exports"],function(e){e.default=function(){return window.server}}),define("cats-client/mirage/models/artist",["exports","ember-cli-mirage"],function(e,t){e.default=t.Model.extend({})}),define("cats-client/mirage/models/event",["exports","ember-cli-mirage"],function(e,t){e.default=t.Model.extend({})}),define("cats-client/mirage/scenarios/default",["exports"],function(e){function t(e,t){return Math.floor(Math.random()*(t-e))+e}function n(e,t){for(var n=[];n.length<t;){var a=Math.floor(Math.random()*e.length);n.indexOf(a)===-1&&n.push(a)}return n.map(function(t){return e[t]})}e.default=function(e){for(var a=arguments.length<=1||void 0===arguments[1]?100:arguments[1],r=arguments.length<=2||void 0===arguments[2]?50:arguments[2],i=e.createList("artist",a),l={3:"Trio",4:"Quartet",5:"Quintet"},o=[],c=0;c<r;c++){var d=t(3,6),s=n(i,d),u=s[0],f="The "+u.attrs.name+" "+l[d],p=s.map(function(e){return e.id}),m=e.create("event",{name:f,artist_ids:p});o.push(m)}}}),define("cats-client/mirage/serializers/application",["exports","ember-cli-mirage"],function(e,t){e.default=t.JSONAPISerializer.extend({})}),define("cats-client/models/artist",["exports","ember-data/model","ember-data/attr","ember-data/relationships"],function(e,t,n,a){var r=["Piano","Bass","Drums","Guitar","Trumpet"];e.INSTRUMENTS=r,e.default=t.default.extend({name:(0,n.default)("string"),instrument:(0,n.default)("string"),events:(0,a.hasMany)("event",{inverse:"artists"})})}),define("cats-client/models/event",["exports","ember-data/model","ember-data/attr","ember-data/relationships"],function(e,t,n,a){e.default=t.default.extend({name:(0,n.default)("string"),artists:(0,a.hasMany)("artist",{inverse:"events",async:!1}),startTime:(0,n.default)("date")})}),define("cats-client/resolver",["exports","ember-resolver"],function(e,t){e.default=t.default}),define("cats-client/router",["exports","ember-router","cats-client/config/environment"],function(e,t,n){var a=t.default.extend({location:n.default.locationType});a.map(function(){}),e.default=a}),define("cats-client/routes/index",["exports","ember-route","cats-client/utils/create-graph","ember-instrumentation"],function(e,t,n,a){e.default=t.default.extend({beforeModel:function(){return this.store.findAll("artist")},model:function(){return this.store.findAll("event")},setupController:function(e,t){this._super.apply(this,arguments),(0,a.subscribe)("create-graph",{before:function(e,t){return t},after:function(e,t,n,a){var r=Math.round(t-a);console.log("create-graph took "+r+" ms.")}}),(0,a.instrument)("create-graph",function(){var a=(0,n.default)(t);e.set("graph",a)})}})}),define("cats-client/serializers/event",["exports","ember-data/serializers/json-api","ember-array/utils"],function(e,t,n){e.default=t.default.extend({normalizeResponse:function(e,t,a,r,i){var l=function(e){var t=e.attributes["artist-ids"];delete e.attributes["artist-ids"],e.relationships=e.relationships||{},e.relationships.artists=e.relationships.artists||{data:[]},t.forEach(function(t){e.relationships.artists.data.push({id:t,type:"artist"})})};return(0,n.isEmberArray)(a.data)?a.data.forEach(l):l(a.data),this._super(e,t,a,r,i)}})}),define("cats-client/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("cats-client/templates/components/event-info",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.6.2",loc:{source:null,start:{line:10,column:2},end:{line:20,column:2}},moduleName:"cats-client/templates/components/event-info.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","event-info__artist");var a=e.createTextNode("\n      ");e.appendChild(n,a);var a=e.createElement("span");e.setAttribute(a,"class","event-info__artist_name");var r=e.createTextNode("\n        ");e.appendChild(a,r);var r=e.createComment("");e.appendChild(a,r);var r=e.createTextNode("\n      ");e.appendChild(a,r),e.appendChild(n,a);var a=e.createTextNode("\n      ");e.appendChild(n,a);var a=e.createElement("span");e.setAttribute(a,"class","event-info__instrument");var r=e.createTextNode("\n        ");e.appendChild(a,r);var r=e.createComment("");e.appendChild(a,r);var r=e.createTextNode("\n      ");e.appendChild(a,r),e.appendChild(n,a);var a=e.createTextNode("\n      ");e.appendChild(n,a);var a=e.createElement("span");e.setAttribute(a,"style","clear: both;"),e.appendChild(n,a);var a=e.createTextNode("\n    ");e.appendChild(n,a),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var a=e.childAt(t,[1]),r=new Array(3);return r[0]=e.createElementMorph(a),r[1]=e.createMorphAt(e.childAt(a,[1]),1,1),r[2]=e.createMorphAt(e.childAt(a,[3]),1,1),r},statements:[["element","action",[["get","selectArtist",["loc",[null,[11,18],[11,30]]]],["get","artist",["loc",[null,[11,31],[11,37]]]]],[],["loc",[null,[11,9],[11,39]]]],["content","artist.name",["loc",[null,[13,8],[13,23]]]],["content","artist.instrument",["loc",[null,[16,8],[16,29]]]]],locals:["artist"],templates:[]}}();return{meta:{fragmentReason:{name:"missing-wrapper",problems:["multiple-nodes"]},revision:"Ember@2.6.2",loc:{source:null,start:{line:1,column:0},end:{line:22,column:0}},moduleName:"cats-client/templates/components/event-info.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","event-info__name");var a=e.createTextNode("\n  ");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a);var a=e.createTextNode("\n");e.appendChild(n,a),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","event-info__date");var a=e.createTextNode("\n  ");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a);var a=e.createTextNode("\n");e.appendChild(n,a),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","event-info__artists");var a=e.createTextNode("\n");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var a=new Array(3);return a[0]=e.createMorphAt(e.childAt(t,[0]),1,1),a[1]=e.createMorphAt(e.childAt(t,[2]),1,1),a[2]=e.createMorphAt(e.childAt(t,[4]),1,1),a},statements:[["content","event.name",["loc",[null,[2,2],[2,16]]]],["inline","format-date",[["get","event.startTime",["loc",[null,[6,16],[6,31]]]]],[],["loc",[null,[6,2],[6,33]]]],["block","each",[["get","event.artists",["loc",[null,[10,10],[10,23]]]]],[],0,null,["loc",[null,[10,2],[20,11]]]]],locals:[],templates:[e]}}())}),define("cats-client/templates/components/force-graph",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"triple-curlies"},revision:"Ember@2.6.2",loc:{source:null,start:{line:1,column:0},end:{line:3,column:0}},moduleName:"cats-client/templates/components/force-graph.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment();e.setNamespace("http://www.w3.org/2000/svg");var n=e.createElement("svg");e.setAttribute(n,"width","700"),e.setAttribute(n,"height","700");var a=e.createTextNode("\n");e.appendChild(n,a),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}())}),define("cats-client/templates/index",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.6.2",loc:{source:null,start:{line:4,column:6},end:{line:7,column:6}},moduleName:"cats-client/templates/index.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("        ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var a=new Array(1);return a[0]=e.createMorphAt(t,1,1,n),a},statements:[["inline","event-info",[],["event",["subexpr","@mut",[["get","event",["loc",[null,[5,27],[5,32]]]]],[],[]],"selectArtist",["subexpr","action",[["subexpr","mut",[["get","selectedArtist",["loc",[null,[6,36],[6,50]]]]],[],["loc",[null,[6,31],[6,51]]]]],[],["loc",[null,[6,23],[6,52]]]]],["loc",[null,[5,8],[6,54]]]]],locals:["event"],templates:[]}}();return{meta:{fragmentReason:{name:"triple-curlies"},revision:"Ember@2.6.2",loc:{source:null,start:{line:1,column:0},end:{line:16,column:0}},moduleName:"cats-client/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","index-container");var a=e.createTextNode("\n  ");e.appendChild(n,a);var a=e.createElement("div");e.setAttribute(a,"class","index-container__column");var r=e.createTextNode("\n    ");e.appendChild(a,r);var r=e.createElement("div");e.setAttribute(r,"class","index-container__events");var i=e.createTextNode("\n");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("    ");e.appendChild(r,i),e.appendChild(a,r);var r=e.createTextNode("\n  ");e.appendChild(a,r),e.appendChild(n,a);var a=e.createTextNode("\n\n  ");e.appendChild(n,a);var a=e.createElement("div");e.setAttribute(a,"class","index-container__column");var r=e.createTextNode("\n    ");e.appendChild(a,r);var r=e.createComment("");e.appendChild(a,r);var r=e.createTextNode("\n  ");e.appendChild(a,r),e.appendChild(n,a);var a=e.createTextNode("\n");e.appendChild(n,a),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var a=e.childAt(t,[0]),r=new Array(2);return r[0]=e.createMorphAt(e.childAt(a,[1,1]),1,1),r[1]=e.createMorphAt(e.childAt(a,[3]),1,1),r},statements:[["block","each",[["get","sortedEvents",["loc",[null,[4,14],[4,26]]]]],[],0,null,["loc",[null,[4,6],[7,15]]]],["inline","force-graph",[],["graph",["subexpr","@mut",[["get","graph",["loc",[null,[12,24],[12,29]]]]],[],[]],"selectedArtist",["subexpr","@mut",[["get","selectedArtist",["loc",[null,[13,19],[13,33]]]]],[],[]]],["loc",[null,[12,4],[13,35]]]]],locals:[],templates:[e]}}())}),define("cats-client/utils/create-graph",["exports","cats-client/models/artist"],function(e,t){e.default=function(e){function n(e){return e.get("name")+" ("+e.get("instrument")+")"}function a(e){var t=n(e),a=e.get("id"),i=l.find(function(e){return e.id===a});if(void 0===i){var o=r(e);l.push({id:a,text:t,group:o})}}function r(e){var n=e.get("instrument");return t.INSTRUMENTS.indexOf(n)+1}function i(e,t){var n=e.get("id"),a=t.get("id"),r=o.find(function(e){return e.source===n&&e.target===a||e.source===a&&e.target===n});void 0===r?o.push({source:n,target:a,value:1}):r.value++}var l=[],o=[];return e.forEach(function(e){for(var t=e.get("artists"),n=0;n<t.length;n++){var r=t.objectAt(n);a(r);for(var l=n+1;l<t.length;l++){var o=t.objectAt(l);i(r,o)}}}),{nodes:l,links:o}}}),define("cats-client/config/environment",["ember"],function(e){var t="cats-client";try{var n=t+"/config/environment",a=e.default.$('meta[name="'+n+'"]').attr("content"),r=JSON.parse(unescape(a));return{default:r}}catch(e){throw new Error('Could not read config from meta tag with name "'+n+'".')}}),runningTests||require("cats-client/app").default.create({name:"cats-client",version:"0.0.0+b4c7ce38"});